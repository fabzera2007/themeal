<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu perfil</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header_perfil">
        <div class="header-content-wrapper">
            <a href="index.html" class="logo">TheMeal</a>
            <nav class="perfil_main-nav">
                <a href="index.html">Início</a>
                <a href="perfil.html" class="page-select">Meu Perfil</a>
                <a href="#">Explorar</a>
                <a href="#">Categorias</a>
                <a href="#">Sobre</a>
                <button id="login-btn" class="login-btn">Entrar</button>
                <button id="logout-btn" class="logout-btn" style="display: none;">Sair</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="perfil-card">
            <div class="avatar">
                <img id="user-avatar" src="https://images.unsplash.com/photo-1577219491135-ce391730fb2c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=256&q=80" alt="Foto de Perfil" class="foto">
            </div>

            <div class="info">
                <h1 id="user-name" class="nome">Visitante</h1>
                <p id="user-bio" class="frase">Faça login para personalizar seu perfil.</p>
                <div class="botoes">
                    <button id="edit-btn" class="btn-ajustar" style="display: none;">Ajustar Detalhes</button>
                    <button id="disconnect-btn" class="btn-sair" style="display: none;">Desconectar</button>
                </div>
            </div>
        </div>

        <div class="metricas-grid">
            <div class="dado">
                <p id="recipes-count" class="valor">0</p>
                <p class="legenda">Receitas Favoritas</p>
            </div>
            <div class="dado">
                <p id="followers-count" class="valor">0</p>
                <p class="legenda">Fãs de Sabor</p>
            </div>
            <div class="dado">
                <p id="following-count" class="valor">0</p>
                <p class="legenda">Acompanhando Chefs</p>
            </div>
        </div>

        <div class="criacoes-section">
            <h2 class="titulo">Minhas Receitas Favoritas</h2>
            <div id="favorites-grid" class="receita-grid">
                <div class="message-box">Faça login para ver suas receitas favoritas.</div>
            </div>
        </div>

        <div class="criacoes-section">
            <h2 class="titulo">Receitas Recomendadas</h2>
            <div id="recommended-grid" class="receita-grid">
                <div class="loading"></div>
            </div>
        </div>
    </div>

    <footer class="header_perfil" style="margin-top: 2rem;">
        <div class="header-content-wrapper" style="flex-direction: column; text-align: center;">
            <p style="color: white; margin-bottom: 1rem;">&copy; 2025 TheMeal - Todos os direitos reservados</p>
            <div class="perfil_main-nav" style="justify-content: center;">
                <a href="#">Termos de Uso</a>
                <a href="#">Política de Privacidade</a>
                <a href="#">Contato</a>
            </div>
        </div>
    </footer>

    <div class="mdl" id="auth-modal">
        <div class="mdl-box">
            <div class="tab">
                <div class="tab-btn act" data-tab="login">Login</div>
                <div class="tab-btn" data-tab="register">Cadastro</div>
            </div>

            <div class="msg" id="auth-message"></div>

            <div class="tab-content act" id="login-tab">
                <form class="frm" id="login-form">
                    <input type="email" class="inp" placeholder="Email" id="login-email" required>
                    <input type="password" class="inp" placeholder="Senha" id="login-password" required>
                    <button type="submit" class="btn-ajustar">Entrar</button>
                </form>
                <p class="mt-4" style="text-align: center;">Não tem uma conta? <a href="#" class="link" id="show-register">Cadastre-se</a></p>
            </div>

            <div class="tab-content" id="register-tab">
                <form class="frm" id="register-form">
                    <input type="text" class="inp" placeholder="Nome de usuário" id="register-username" required>
                    <input type="email" class="inp" placeholder="Email" id="register-email" required>
                    <input type="password" class="inp" placeholder="Senha" id="register-password" required>
                    <input type="password" class="inp" placeholder="Confirmar senha" id="register-confirm-password" required>
                    <textarea class="inp" placeholder="Biografia (opcional)" id="register-bio"></textarea>
                    <div class="flex-row">
                        <button type="submit" class="btn-ajustar">Cadastrar</button>
                        <button type="button" class="btn-sair" id="cancel-register">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="mdl" id="edit-modal">
        <div class="mdl-box">
            <h2 class="mdl-title">Editar Perfil</h2>
            <div class="msg" id="edit-message"></div>
            <form class="frm" id="edit-form">
                <input type="text" class="inp" placeholder="Nome de usuário" id="edit-username" required>
                <textarea class="inp" placeholder="Biografia" id="edit-bio"></textarea>
                <div class="flex-row">
                    <button type="submit" class="btn-ajustar">Salvar</button>
                    <button type="button" class="btn-sair" id="cancel-edit">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div class="mdl" id="recipe-modal">
        <div class="mdl-box" style="max-width: 800px;">
            <h2 class="mdl-title" id="recipe-title">Carregando...</h2>
            <div id="recipe-content">
                <div class="loading"></div>
            </div>
            <div class="flex-row" style="justify-content: center; margin-top: 1.5rem;">
                <button class="btn-sair" id="close-recipe">Fechar</button>
                <button class="btn-ajustar" id="favorite-recipe">Favoritar</button>
            </div>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="auth.js"></script>
    <script src="perfil.js"></script>
</body>
</html>
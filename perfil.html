<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu perfil</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="CSS/perfil.css">
    <link rel="stylesheet" href="CSS/dark-theme.css">
</head>

<body>
    <header class="header_perfil">
        <div class="header-content-wrapper">
            <a href="index.html" class="logo"><img src="Imagens/logo.png" alt="TheMeal Logo"></a>
            <nav class="perfil_main-nav">
                <a href="index.html">Início</a>
                <a href="perfil.html" class="page-select">Meu Perfil</a>
                <a href="#">Explorar</a>
                <a href="#">Categorias</a>
                <a href="#">Sobre</a>

                <button id="login-btn" class="login-btn">Entrar</button>

                <a href="perfil.html" id="user-greeting" class="user-greeting" style="display: none;">Olá, Visitante</a>
                <button id="logout-icon-btn" class="icon-btn" style="display: none;" title="Sair">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M10.339 4.11a1 1 0 00-1.078 1.078V9h-5a1 1 0 100 2h5v3.812a1 1 0 001.078 1.078l5-4.375a1 1 0 000-2.156l-5-4.375zM4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h5a1 1 0 100-2h-5V4h5a1 1 0 100-2h-5z">
                        </path>
                    </svg>
                </button>
                <a href="perfil.html" id="profile-icon-btn" class="icon-btn" style="display: none;" title="Ver Perfil">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                            clip-rule="evenodd"></path>
                    </svg>
                </a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="perfil-card-profile">
            <div class="avatar">
                <img id="user-avatar"
                    src="https://images.unsplash.com/photo-1577219491135-ce391730fb2c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=256&q=80"
                    alt="Foto de Perfil" class="foto">
            </div>

            <div class="info">
                <h1 id="user-name" class="nome">Visitante</h1>
                <p id="user-bio" class="frase">Faça login para personalizar seu perfil.</p>
                <div class="botoes">
                    <button id="edit-btn" class="btn-ajustar" style="display: none;">Ajustar Detalhes</button>
                    <button id="disconnect-btn" class="btn-sair" style="display: none;">Desconectar</button>
                </div>
            </div>
        </div>

        <div class="metricas-grid">
            <div class="dado">
                <p id="recipes-count" class="valor">0</p>
                <p class="legenda">Receitas Favoritas</p>
            </div>
            <div class="dado">
                <p id="followers-count" class="valor">0</p>
                <p class="legenda">Fãs de Sabor</p>
            </div>
            <div class="dado">
                <p id="following-count" class="valor">0</p>
                <p class="legenda">Acompanhando Chefs</p>
            </div>
        </div>

        <div class="criacoes-section">
            <h2 class="titulo">Minhas Receitas Favoritas</h2>
            <div id="favorites-grid" class="receita-grid">
                <div class="message-box">Faça login para ver suas receitas favoritas.</div>
            </div>
        </div>

        <div class="criacoes-section">
            <h2 class="titulo">Receitas Recomendadas</h2>
            <div id="recommended-grid" class="receita-grid">
                <div class="loading"></div>
            </div>
        </div>
    </div>

    <footer class="header_perfil" style="margin-top: 2rem;">
        <div class="header-content-wrapper" style="flex-direction: column; text-align: center;">
            <p style="color: #a0a0a0; margin-bottom: 1rem;">&copy; 2025 TheMeal - Todos os direitos reservados</p>
        </div>
    </footer>

    <div class="mdl" id="auth-modal">
    </div>
    <div class="mdl" id="edit-modal">
    </div>
    <div class="mdl" id="recipe-modal">
    </div>

    <script src="JS/api.js"></script>
    <script src="JS/auth.js"></script>
    <script src="JS/perfil.js"></script>
</body>

</html>